services:
  cli_dev:
    image: cli:dev
    build:
      context: ./cli
      dockerfile: Dockerfile
    volumes:
      - ./cli:/cli
    command: $ARGS
    profiles: [cli_dev]

  cli_prod:
    image: cli:prod
    build:
      context: ./cli
      dockerfile: Dockerfile
    command: $ARGS
    profiles: [cli_prod]
  
  backend_dev:
    image: backend:dev
    build:
      context: ./backend
      dockerfile: Dockerfile.dev
    volumes:
      - ./backend:/backend
    ports:
      - 8080:8080
    profiles: [backend_dev]

  backend_prod:
    image: backend:prod
    build:
      context: ./backend
      dockerfile: Dockerfile
    ports:
      - 8080:8080
    profiles: [backend_prod]

